import sounddevice as sd
from scipy.io.wavfile import write
import openai

openai.api_key = "sk-"  # ← هنا مفتاحك

def record_audio(filename="my_recording.wav", duration=5, fs=44100):
    print("🎙️ Start speaking...")
    recording = sd.rec(int(duration * fs), samplerate=fs, channels=1)
    sd.wait()
    write(filename, fs, recording)
    print(f"✅ Audio saved as {filename}")

def transcribe_audio(filename="my_recording.wav"):
   print("🔁 Transcribing...")

with open(file_path, "rb") as audio_file:
    transcript = openai.audio.transcriptions.create(
        model="whisper-1",
        file=audio_file
    )

print("✅ Transcribed text:", transcript.text)
        )
    text = transcript.text
    print("📝 Transcribed text:", text)

    with open("text_output.txt", "w", encoding="utf-8") as out:
        out.write(text)

    return text

if __name__ == "__main__":
    record_audio()
    transcribe_audio()
